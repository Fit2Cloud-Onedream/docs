# CSV 导入

## 用户管理

### 用户列表

!!! info "点击用户列表右上角的导入按钮选择下载导入模板"

| 表单         | 内容                       | 说明                                    |
| :----------- | :------------------------ | :------------------------------ ------- |
| 名称         | 张三                       | 姓名, 标识用, 可以重复                   |
| 用户名       | zhangsan                  | 登录时使用, 具有唯一性, 不可以重复         |
| 密码         |                           | 密码策略设置为 1 时需要在此处输入密码      |
| 邮件         | zhangsan@qq.com           | 邮件地址, 具有唯一性, 不可以重复          |
| SSH 公钥     |                           | 选填, 可以上传用户自己的 ssh 公钥         |
| 微信         |                           | 选填, 仅标识                             |
| 手机         |                           | 选填, 仅标识                             |
| 多因子认证   | 0                         | 0 关闭, 1 开启, 2 强制开启, 动态口令认证   |
| 备注         |                           | 选填, 仅标识                             |
| 有效         | True                      | True 有效, False 无效, 无效的用户无法登录 |
| 密码策略     | 0                         | 0 表示自动生成密码, 1 需要在上面输入密码   |
| 失效日期     | 2120-12-11 21:57:56 +0800 | 用户过期时间                             |
| 用户组       | 逗逼组                    | 选填, 用户组的名称, 请先在用户组里面创建    |
| 角色        | User                       | 角色有 Admin, User, Auditor             |
| 组织角色名称 | ['User']                  | 组织角色名称有 ['Admin'], ['User']       |

!!! tip "可以参考下面的例子"

| * 名称 | * 用户名 | 密码 |    * 邮件    | SSH 公钥 | 微信 | 手机 | 多因子认证 | 备注 | 有效 | 密码策略 |          失效日期          | 用户组 | 角色 | 组织角色名称 |
| :----- | :------ | :--- | :---------- | :------- | :--- | :-- | :--------- | :-- | :-- | :------- | :------------------------ | :----- | :----| :---------- |
| 张三   | zhangsan |      | zhangsan@qq.com |      |      |      |     0     |     | True |    0    | 2120-12-11 21:57:56 +0800 | 逗逼组 | User    |  ['User']  |
| 李四   | lisi    |      | lisi@qq.com |           |      |      |     0     |     | True |    0    | 2120-12-11 21:57:56 +0800 | 逗逼组 | User    |  ['User']  |
| 小白   | xiaobai    |      | xiaobai@qq.com |     |      |      |     2     |     | True |    0    | 2120-12-11 21:57:56 +0800 | 帅逼组 | Admin   |  ['Admin'] |
| 监控员 | test    |  test01  | test@qq.com   |     |      |      |     1     |     | True |    1    | 2120-12-11 21:57:56 +0800 |        | Auditor |  ['User'] |

### 用户组

!!! info "点击用户组右上角的导入按钮选择下载导入模板"

| 表单         | 内容                       | 说明                                    |
| :----------- | :------------------------ | :-------------------------------------- |
| 名称         | 逗逼组                     | 组名称, 具有唯一性                       |
| 备注         |                           | 选填, 仅标识                             |
| 用户         | ['ed990787-8062-49b0-aee7-3cb8bcd21e97'] | 用户 id, 多个用户 ['id1', 'id2'] |

!!! tip "可以参考下面的例子"
    - 用户的 id 可以在用户详情里面查, 点击用户的名称即可看到

| 名称   | 备注            | 用户                                                                            |
| :---- | :-------------- | :------------------------------------------------------------------------------ |
| 帅比组 | 这里面的都是帅比 |['ed990787-8062-49b0-aee7-3cb8bcd21e97']                                         |
| 逗逼组 |                |['1d231092-f3bb-450c-940d-74f8c8b65daa', 'e94d9eaf-4a42-440c-950d-9fd054492dfa'] |

## 资产管理

### 资产列表

!!! info "点击资产列表右上角的导入按钮选择下载导入模板"

| 表单         | 内容                       | 说明                                    |
| :----------- | :------------------------ | :-------------------------------------- |
| 主机名       | 172.16.0.11                | 主机名, 具有唯一性                       |
| IP           | 172.16.0.11               | 资产 IP, 可以重复                        |
| 协议         |                            | 该项不需要填写                           |
| 端口         |                            | 该项不需要填写                           |
| 协议组       | ['ssh/22']                 | 必填, 多个协议 ['ssh/22', 'rdp/3389']    |
| 激活         | TRUE                       | False 时该资产对用户不可见                |
| 公网IP       |                            | 选填, 仅标识                             |
| 资产编号     |                            | 选填, 仅标识                             |
| 制造商       |                            | 选填, 仅标识                             |
| 型号         |                            | 选填, 仅标识                             |
| 序列号       |                            | 选填, 仅标识                             |
| CPU型号      |                            | 选填, 仅标识                             |
| CPU数量      |                            | 选填, 仅标识                             |
| CPU核数      |                            | 选填, 仅标识                             |
| CPU总数      |                            | 选填, 仅标识                             |
| 内存         |                            | 选填, 仅标识                             |
| 硬盘大小     |                            | 选填, 仅标识                             |
| 硬盘信息     |                            | 选填, 仅标识                             |
| 操作系统     |                            | 选填, 仅标识                             |
| 系统版本     |                            | 选填, 仅标识                             |
| 系统架构     |                            | 选填, 仅标识                             |
| 主机名原始   |                            | 选填, 仅标识                             |
| 备注        | 测试资产                    | 选填, 仅标识                             |
| 管理用户    | 36608d2d-4547-4030-b109-2f0300fbb245 | 必填, 管理用户的 id             |
| 网域        |                            | 选填, 如果使用网域请填写网域的 id          |
| 系统平台    | Linux                       | 必填, Linux, macOS, Windows, Unix 等     |
| 节点        | ['6b7ed83a-40c2-4068-8e17-72f5e6a94eb6'] | 资产节点的 id               |
| 节点名称    | ['/Default/Test']           | 对应节点 id 的名称                        |
| 标签管理    |                             | 选填, 仅标识                              |

!!! tip "可以参考下面的例子"
    - 管理用户的 id 可以在管理用户详情里面查, 点击管理用户的名称即可看到
    - 节点的 id 可以在资产列表的节点右键显示节点详情里面
    - 网域的 id 可以在资产列表的网域列表里面查, 点击网域的名称即可看到
    - 系统平台 可以从页面上查询具体使用的操作系统平台

| * 主机名      | * IP        | 协议 | 端口 | 协议组                  | 激活 | 公网 IP | 资产编号 | 制造商 | 型号 | 序列号 | CPU 型号 | CPU 数量 | CPU 核数 | CPU 总数 | 内存 | 硬盘大小 | 硬盘信息 | 操作系统 | 系统版本 | 系统架构 | 主机名原始 | 备注    | 管理用户                              | 网域 | * 系统平台 | 节点                                     | 节点名称                 | 标签管理 |
| :----------- | :----------- | :-- | :--- | :--------------------- | :--- | :------ | :------ | :---- | :--- | :---- | :------- | :------- | :------- | :------ | :--- | :------ | :------ | :------ | :------- | :------ | :-------- | :------ | :----------------------------------- | :-- | :--------- | :--------------------------------------- | :---------------------- | :------ |                
| 172.16.0.11  | 172.16.0.11  |     |      | ['ssh/22']             | TRUE |	       |         |       |      |       |          |          |          |         |      |         |         |         |          |         |           | 测试资产 | 36608d2d-4547-4030-b109-2f0300fbb245 |     | Linux      | ['6b7ed83a-40c2-4068-8e17-72f5e6a94eb6'] | ['/Default/Test']       |          |
| 172.16.0.110 | 172.16.0.110 |     |      | ['ssh/22', 'rdp/3389'] | TRUE |	       |         |       |      |       |          |          |          |         |      |         |         |         |          |         |           | 测试资产 | 2dda54c7-df4a-4aad-bc4e-4d345b2231aa |     | Windows    | ['6499e889-89b8-4973-b5d5-43108f2d8a72'] | ['/Default/RDP Server'] |          |

### 网域列表

!!! info "点击网域列表右上角的导入按钮选择下载导入模板"

| 表单 | 内容  | 说明                |
| :--- | :--- | :------------------ |
| 名称 | 上海  | 网关名称, 具有唯一性 |
| 备注 |      | 选填, 仅标识         |
| 资产 | ['9251cfc8-6897-4b3a-9b79-44f9f56f5ec4'] | 资产 id, 多个 id ['id1', 'id2'] |

!!! tip "可以参考下面的例子"
    - 资产的 id 可以在资产详情里面查, 点击资产的名称即可看到

| *名称 | 备注 | 资产 |
| :---- | :-- | :--- |
| 上海	|     | ['9251cfc8-6897-4b3a-9b79-44f9f56f5ec4'] |

#### 网域网关

!!! info "点击网域列表的网关名称, 点击网关, 点击右上角的导入按钮选择下载导入模板"

| 表单    | 内容                                 | 说明                  |
| :------ | :---------------------------------- | :-------------------- |
| *名称   | 上海-A1-L3T0                         |                       |
| *IP     | 224.75.103.22                       | 用作网关的 ip          |
| 端口    | 22                                  | ssh 端口               |
| 协议    | ssh                                 | 目前仅支持 ssh 协议网关 |
| 用户名  | root                                 | ssh 账号              |
| 密码    | Develop@A1#L3*T0a                    | ssh 密码              |
| SSH密钥 |                                      | 可以使用 key 认证      |
| SSH公钥 |                                      | 选填                  |
| *网域   | b204fc03-5946-40ba-8809-6cb90614b1f6 | 网域的 id             |
| 激活    | TRUE                                 | FALSE 时不使用该网关   |
| 创建者  | Administrator                        | 选填, 仅标识           |

!!! tip "可以参考下面的例子"
    - 网域的 id 可以在网域详情里面查, 点击网域的名称即可看到

| *名称        | *IP             | 端口 | 协议 | 用户名 | 密码          | SSH密钥 | SSH公钥 | *网域                                 | 激活 | 创建者        |
| :----------- | :-------------- | :- | :- | :--- | :---------------- | :------ | :----- | :------------------------------------ | :-- | :------------ |
| 上海-A1-L3T0 | 134.175.107.118 | 22 | ssh | root | Develop@A1#L3*T0a |         |        | b204fc03-5946-40ba-8809-6cb90614b1f6 | TRUE | Administrator |

### 管理用户

!!! info "点击管理用户右上角的导入按钮选择下载导入模板"

| 表单    | 内容                       | 说明                                    |
| :------ | :------------------------ | :-------------------------------------- |
| 名称	  | 172.16.0.11_root           | 名称, 具有唯一性                        |
| 用户名	 | root                       | 资产的登录账号                          |
| 密码	  | Develop@A2#L7*T1c          | 资产登录账号的密码                      |
| SSH密钥	|                            | 私钥, 如果私钥有密码, 在上面的密码栏输入  |
| SSH公钥	|                            | 选填                                   |
| 备注	  | 172.16.0.11                | 选填, 仅标识                            |                                        

!!! tip "可以参考下面的例子"
    - 这里的用户名密码就是资产的登录账号密码, 创建资产时需要指定该管理用户

| *名称                      | 用户名         | 密码              | SSH密钥 | SSH公钥 | 备注 |
| :------------------------- | :------------ | :---------------- | :----- | :------ | :--- |
| 172.16.0.11_root           | root 			   | Develop@A2#L7*T1c |        |         |      |
| 172.16.0.110_administrator | administrator | Develop@A2#L7*T1c |        |         |      |

### 系统用户

!!! info "点击系统用户右上角的导入按钮选择下载导入模板"
| 表单               | 内容                       | 说明                                    |
| :----------------- | :------------------------ | :-------------------------------------- |
| *名称              | test_ssh                  | 必填, 具有唯一性                          |
| 用户名             | test                       | 登录资产的账号                           |
| 协议               | ssh                        | ssh 协议                                |
| 密码               |                            | 使用 Auto generate key 自动生成账号密码  |
| SSH公钥            |                            | 选填                                    |
| SSH密钥            |                            | 选填                                    |
| 登录模式           | auto                       | auto 自动, manual 手动                   |
| 优先级             | 20                         | 一个资产存在多个系统用户时默认使用高优先登录 |
| 用户名与用户相同    |                            | 选填                                    |
| 自动推送           | true                        | false 关闭, 关闭需要用户输入正确的账号密码 |
| Sudo              | ALL                         | linux sudo 设置                         |
| Shell             | /bin/bash                   | linux shell 设置                        |
| 备注              |                             | 选填                                    |
| 家目录            | /home/test                  | 选填, 如果不是默认位置需要修改此处         |
| 用户组            |                             | 选填, 可以将当前用户加入到该组里           |
| Auto generate key | true                        | false 需要手动输入正确的密码              |
| Ad                |                             | 选填                                    |
| 网域              |                             | 选填                                    |
| SFTP根路径        | /                           | 用户通过 sftp 或者 websftp 可以看到的目录 |

!!! tip "可以参考下面的例子"
    - shell 可以通过在 Linux 上面执行 `echo $SHELL` 查询, 有的可能是 `/bin/sh` 或 `/bin/zsh` 等
    - 协议可以到 web 页面查看, 不要选错
    - ssh 才需要设置 sudo shell sftp 其他协议不需要
    - 开启推送需要管理用户正确且有相应的权限
    - 只有 rdp ssh 支持自动推送
    - vnc 和 k8s 只支持自动登录

| *名称            | 用户名   | 协议    | 密码               | SSH公钥 | SSH密钥 | 登录模式 | 优先级 | 用户名与用户相同 | 自动推送 | Sudo | Shell     | 备注 | 家目录    | 用户组         | Auto generate key | Ad 网域     | SFTP根路径 |
| :--------------- | :------ | :------ | :---------------- | :------ | :------ | :------ | :---- | :-------------- | :------ | :---- | :-------- | :- | :-------- | :------------- | :---------------- | :--------- | :--------- |
| test_ssh         | test    | ssh     |                   |         |         | auto    | 20    |                 | true     | ALL  | /bin/bash |    | /home/test|                | true              |            | /          |
| 172.16.0.11_root | root    | ssh     | Develop@A2#L7*T1c |         |         | auto    | 20    |                 | false    |      |           |    |           |                | false             |            | /          |                 
| test_rdp         | test    | rdp     |                   |         |         | auto    | 20    |                 | true     |      |           |    |           | Administrators | true              |            |            |
| test_rdp_aduser  | xiaobai | rdp     | ***************** |         |         | auto    | 50    |                 | false    |      |           |    |           |                |                   | domain.com |            |
| test_vnc         | root    | vnc     | Develop@A2#L7*T1c |         |         | auto    | 20    |                 | false    |      |           |    |           |                |                   |            |            |
| test-mysql       | xiaobai
| test-k8s         |
